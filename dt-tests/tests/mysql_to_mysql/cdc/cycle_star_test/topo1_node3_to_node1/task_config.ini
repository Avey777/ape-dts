[extractor]
db_type=mysql
extract_type=cdc
binlog_position=0
binlog_filename=
server_id=10086
url={mysql_cycle_node3_url}

[filter]
ignore_dbs=
do_dbs=
do_tbs=twoway_test_db_1.*
ignore_tbs=
do_events=insert,update,delete

[sinker]
db_type=mysql
sink_type=write
batch_size=1
url={mysql_cycle_node1_url}

[router]
tb_map=
field_map=
db_map=

[parallelizer]
parallel_type=rdb_merge
parallel_size=1

[pipeline]
type=transaction
buffer_size=1
checkpoint_interval_secs=1

transaction_db=ape_trans_mysql
transaction_table=topo1_node3_to_node1
transaction_express=(?<topology>.*)_(?<source>.*)_to_(?<sink>.*)
transaction_command=update `ape_trans_mysql`.`topo1_node3_to_node1` set `n` = `n` + 1;
topology_key=topo1
white_nodes=
black_nodes=node1

[runtime]
log_dir=./logs
log_level=info
log4rs_file=./log4rs.yaml